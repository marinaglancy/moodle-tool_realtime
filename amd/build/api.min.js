define("tool_realtime/api",["exports","core/ajax"],(function(_exports,_ajax){var obj;
/**
   * TODO describe module api
   *
   * @module     tool_realtime/api
   * @copyright  Marina Glancy
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.sendToServer=function(channel,payload){var _channel$itemid;if(!delegatedplugin||!delegatedplugin.sendToServer)return sendToServerAjax(channel,payload);return delegatedplugin.sendToServer({contextid:channel.contextid,component:channel.component,area:channel.area,itemid:parseInt(null!==(_channel$itemid=channel.itemid)&&void 0!==_channel$itemid?_channel$itemid:0),channeldetails:channel.channeldetails},payload)},_exports.sendToServerAjax=sendToServerAjax,_exports.setImplementation=function(plugin){delegatedplugin=plugin},_ajax=(obj=_ajax)&&obj.__esModule?obj:{default:obj};let delegatedplugin=null;function sendToServerAjax(channel,payload){return _ajax.default.call([{methodname:"tool_realtime_request",args:{channel:JSON.stringify(channel),payload:JSON.stringify(payload)}}]).then((responses=>responses[0].response))}}));

//# sourceMappingURL=api.min.js.map