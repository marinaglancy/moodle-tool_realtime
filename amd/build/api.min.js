define("tool_realtime/api",["exports","core/ajax"],(function(_exports,_ajax){var obj;
/**
   * TODO describe module api
   *
   * @module     tool_realtime/api
   * @copyright  Marina Glancy
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.sendToServer=function(component,payload){let noFallback=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!delegatedplugin||!delegatedplugin.sendToServer)return sendToServerAjax(component,payload);const promise=delegatedplugin.sendToServer(component,payload);if(noFallback)return promise;return promise.catch((error=>(window.console.error("Delegated plugin error: ",error),sendToServerAjax(component,payload))))},_exports.sendToServerAjax=sendToServerAjax,_exports.setImplementation=function(plugin){delegatedplugin=plugin},_ajax=(obj=_ajax)&&obj.__esModule?obj:{default:obj};let delegatedplugin=null;async function sendToServerAjax(component,payload){const response=await _ajax.default.call([{methodname:"tool_realtime_request",args:{component:component,payload:JSON.stringify(payload)}}])[0];return response.response?JSON.parse(response.response):null}}));

//# sourceMappingURL=api.min.js.map